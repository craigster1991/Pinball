function MouseAndTouch(e,t,n,r){function l(e){c(e);r(s,o)}function c(e){e.preventDefault();var t=e.originalEvent;if(t&&t.touches&&t.touches.length==1){t.preventDefault();s=t.touches[0].pageX;o=t.touches[0].pageY}else{s=e.pageX;o=e.pageY}}function h(e){i.addEventListener("mousedown",d,true);i.removeEventListener("mousemove",l,true);f=false;c(e);n(s,o)}function p(e){i.addEventListener("touchstart",v,true);i.removeEventListener("touchmove",l,true);f=false;c(e);n(s,o)}function d(e){i.removeEventListener("mousedown",d,true);i.addEventListener("mouseup",h,true);i.addEventListener("mousemove",l,true);f=true;c(e);t(s,o)}function v(e){i.removeEventListener("touchstart",v,true);i.addEventListener("touchend",p,true);i.addEventListener("touchmove",l,true);f=true;c(e);t(s,o)}var i=e;var s,o,u,a;var f=false;i.addEventListener("mousedown",d,true);i.addEventListener("touchstart",v,true);var m={};m.mouseX=function(){return s};m.mouseY=function(){return o};m.isDown=function(){return f};return m}